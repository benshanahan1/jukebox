{# Create a new Jukebox party. #}
{# 6 March 2018, Benjamin Shanahan #}
{% extends "jukebox_base.html" %}

{% block jukebox_header %}
    <div class="party-header">
        <h4>{{context["party_name"]}}</h4>
        <p>{{context["party_description"]}}</p>
    </div>
{% endblock %}

{% block jukebox_content %}
    <div class="tracks-display">
    
    {% for track in context["tracks"] %}
        <div class="row song align-items-center">
            <span class="col-4 song-name">
                <a class="song-name-hyperlink" 
                   href="https://open.spotify.com/track/{{track['song_id']}}" target="_blank">
                   {{track["name"]}}
                </a>
            </span>
            <span class="col-5 song-artists">{{track["artists"]}}</span>
            <span id="{{track['song_id']}}-votes" class="col-1 song-votes">{{track["votes"]}}</span>
            <span class="col-1 song-votes">
                <a class="song-vote-btn" href="javascript:vote_on_song('{{track['song_id']}}-votes', '{{context['party_id']}}', '{{track['song_id']}}', 'up');">&#x25B2;</a><br>
                <a class="song-vote-btn" href="javascript:vote_on_song('{{track['song_id']}}-votes', '{{context['party_id']}}', '{{track['song_id']}}', 'down');">&#x25BC;</a>
            </span>
        </div>
    {% endfor %}
    
    </div>
{% endblock %}

{% block footer %}
    {{ super() }}
    <!-- Load app JS requirements. -->
    <script src="static/js/api.js"></script>
    <script src="static/js/jukebox.js"></script>
    <!-- Defer app start until page has loaded. -->
    <script defer>
        // TODO
        console.log("Loaded create view party page.");
    </script>
{% endblock %}